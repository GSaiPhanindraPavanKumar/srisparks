<div class="navbar fixed w-full top-0 z-50 shadow-lg">
    <div class="container mx-auto px-4">
        <div class="flex justify-between items-center py-4">
            <div class="flex items-center gap-3">
                <img src="/images/logo/logo1.png" alt="SriSparks Logo" class="h-10 w-auto" id="navbar-logo">
                <h1 class="navbar-brand">SriSparks Infra</h1>
            </div>
            
            <!-- Mobile menu button -->
            <div class="md:hidden">
                <button id="menu-toggle" class="text-white hover:text-secondary transition-all duration-300">
                    <i class="fas fa-bars text-2xl"></i>
                </button>
            </div>

            <!-- Desktop Navigation -->
            <nav class="hidden md:flex space-x-6">
                <a href="/" class="nav-link text-white hover:text-secondary">Home</a>
                <a href="/about" class="nav-link text-white hover:text-secondary">About Us</a>
                <a href="/services" class="nav-link text-white hover:text-secondary">Services</a>
                <div class="dropdown">
                    <a href="/#solar" class="nav-link text-white hover:text-secondary">Solar Projects</a>
                    <div class="dropdown-content">
                        <div class="sub-dropdown">
                            <a href="/#rooftop" class="nav-link">Roof Top</a>
                            <div class="sub-dropdown-content">
                                <a href="/solar/pm-surya-ghar" class="nav-link">Domestic (PM Surya Ghar)</a>
                                <a href="/solar/commercial" class="nav-link">Commercial</a>
                            </div>
                        </div>
                        <a href="/#ground-mounted" class="nav-link">Ground Mounted</a>
                    </div>
                </div>
                <a href="/om" class="nav-link text-white hover:text-secondary">O&M / Manpower</a>
                <a href="/projects" class="nav-link text-white hover:text-secondary">Projects</a>
                <!-- <a href="/#values" class="nav-link text-white hover:text-secondary">Core Values</a> -->
                <a href="/contact" class="nav-link text-white hover:text-secondary">Contact Us</a>
            </nav>
        </div>

        <!-- Mobile Navigation -->
        <div id="mobile-menu" class="md:hidden hidden">
            <nav class="flex flex-col space-y-4 py-4">
                <a href="/" class="nav-link text-white hover:text-secondary">Home</a>
                <a href="/about" class="nav-link text-white hover:text-secondary">About Us</a>
                <a href="/services" class="nav-link text-white hover:text-secondary">Services</a>
                <div class="dropdown">
                    <a href="javascript:void(0)" class="nav-link text-white hover:text-secondary">
                        Solar Projects <i class="fas fa-chevron-down dropdown-arrow ml-1"></i>
                    </a>
                    <div class="dropdown-content">
                        <div class="sub-dropdown">
                            <a href="javascript:void(0)" class="nav-link">
                                Roof Top <i class="fas fa-chevron-down dropdown-arrow ml-1"></i>
                            </a>
                            <div class="sub-dropdown-content">
                                <a href="/solar/pm-surya-ghar" class="nav-link">PM Surya Ghar</a>
                                <a href="/solar/commercial" class="nav-link">Commercial</a>
                            </div>
                        </div>
                        <a href="/#ground-mounted" class="nav-link">Ground Mounted</a>
                    </div>
                </div>
                <a href="/om" class="nav-link text-white hover:text-secondary">O&M / Manpower</a>
                <a href="/projects" class="nav-link text-white hover:text-secondary">Projects</a>
                <a href="/contact" class="nav-link text-white hover:text-secondary">Contact Us</a>
            </nav>
        </div>
    </div>
</div>

<!-- Helper script for navbar -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Execute after a slight delay to ensure everything else is loaded
        setTimeout(function() {
            // Force reinitializing mobile menu
            if (typeof window.fixNavbar === 'function') {
                window.fixNavbar();
            }
            
            // Add event listeners directly to prevent menu from closing when dropdowns are clicked
            document.querySelectorAll('#mobile-menu .dropdown > a, #mobile-menu .sub-dropdown > a').forEach(function(item) {
                item.onclick = function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    // Toggle the dropdown without closing the menu
                    this.parentElement.classList.toggle('active');
                    document.getElementById('mobile-menu').classList.remove('hidden');
                    
                    return false;
                };
            });
            
            // Add specific handlers for arrow icons to prevent menu closing
            document.querySelectorAll('#mobile-menu .dropdown-arrow').forEach(function(arrow) {
                arrow.onclick = function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    // Ensure parent element (LI) gets the active class
                    const parentLi = this.closest('.dropdown') || this.closest('.sub-dropdown');
                    if (parentLi) {
                        parentLi.classList.toggle('active');
                    }
                    
                    // Make sure mobile menu stays visible
                    document.getElementById('mobile-menu').classList.remove('hidden');
                    
                    return false;
                };
            });
        }, 300);
    });
</script>